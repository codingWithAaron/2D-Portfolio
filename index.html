<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image" href="/favicon.png" style="object-fit: cover;" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="2D Game Portfolio by Aaron Arguelles"/>
    <title>Aaron Arguelles</title>
    <link rel="stylesheet" href="global.css">
  </head>
  <body>
    <audio loop id="backgroundMusic"><source src="/background-music.mp3" type="audio/mp3"></audio>
    <div id="startScreen">
      <img src="/desk.png" alt="background brown desk">
      <div id="startPage" class="start-page">
        <img src="start-page.png" alt="piece of paper on top of desk">
        <div id="optionButtons">
          <button id="start" aria-label="Start button in the style of a game button"></button>
          <div id="gitHub">
            <img src="github-mark.png" alt="GitHub Logo">
            <a href="https://github.com/codingWithAaron" target="_blank">GitHub Profile</a>
          </div>
          <div id="linkedIn">
            <img src="linkedIn.svg" alt="LinkedIn Logo">
            <a href="https://www.linkedin.com/in/aaron-arguelles/" target="_blank">LinkedIn Profile</a>
          </div>
        </div>
      </div>
    </div>
    <div id="app" aria-hidden="true">
      <div id="ui">
        <div id="HUD" class="player-hud">
          <div>
            <h1>Aaron Arguelles</h1>
            <p>Lvl: 28</p>
            <p>Class: Web Developer</p>
          </div>
          <div>
            <img id="weather" src="/day/1.png" alt="weather image">
          </div>
        </div>
        <div class="controls">
          <p class="note"> Tap/Click to move around</p>
          <div class="music-buttons">
            <button id="play" onclick="playAudio()" type="button" class="active">Play Music</button>
            <button id="pause" onclick="pauseAudio()" type="button">Pause Music</button> 
          </div>
        </div>
        <div id="textbox-container" style="display:none">
          <div id="textbox">
            <img class="bl" src="/bl-text-border.png" alt="bottom left text box border">
            <img class="br" src="/br-text-border.png" alt="bottom right text box border">
            <img class="tl" src="/tl-text-border.png" alt="top left text box border">
            <img class="tr" src="/tr-text-border.png" alt="top right text box border">
            <p id="dialogue" class="ui-text"></p>
            <div class="btn-container">
              <button id="close" class="ui-close-btn">Close</button>
            </div>
          </div>
        </div>
      </div>
      <canvas id="game"></canvas>
    </div>
    <script type="module" src="src/main.js"></script>
  </body>
</html>

<script>
  const playMusic = document.getElementById('play');
  const pauseMusic = document.getElementById('pause');
  const music = document.getElementById("backgroundMusic"); 
  const weather = document.getElementById('weather');
  const weatherSrcs = [
    '/day/1.png',
    '/day/2.png',
    '/day/3.png',
    '/day/4.png',
    '/day/5.png',
    '/day/6.png',
    '/day/7.png',
    '/day/8.png',
    '/day/9.png',
    '/day/10.png',
  ]

  playMusic.addEventListener('click', ()=>{
    pauseMusic.classList.add('active');
    playMusic.classList.remove('active');
  })
  pauseMusic.addEventListener('click', ()=>{
    playMusic.classList.add('active');
    pauseMusic.classList.remove('active');
  })
  
  function playAudio() { 
    music.play(); 
  }

  function pauseAudio() { 
    music.pause(); 
  }
  weatherSrcs.forEach((src, index)=>{
      setTimeout(()=>{
        weather.src = src
      }, Number(index + '000') / 6)
    })
  setInterval(()=>{
    weatherSrcs.forEach((src, index)=>{
      setTimeout(()=>{
        weather.src = src
      }, Number(index + '000') / 6)
    })
  }, 2000);
</script>
